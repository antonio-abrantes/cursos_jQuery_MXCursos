<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Curso de jQuery Essencial</title>
    <link href="../css/estilos.css" rel="stylesheet" type="text/css">
    <link href="../css/base/jquery-ui-1.10.4.custom.min.css" rel="stylesheet" type="text/css">
    <script src="../js/jquery-ui-1.10.4.custom.js" type="text/javascript"></script>
    <script src="../js/jquery.min.js" type="text/javascript"></script>

</head>
<body>

<div id="div1">
    <h1 onclick="">Curso de jQuery - Galeria de imagens</h1><hr>

    <div id="pageContainer">
        <div id="slideshow">
            <div id="slideContainer">

                <div class="slide">
                    <h2>Primeiro Slide</h2>
                    <p><a href="#"><img src="../imagens/img1.jpg" alt="" width="215" height="145">Texto do primeiro slide</a></p>
                </div>

                <div class="slide">
                    <h2>Primeiro Slide</h2>
                    <p><a href="#"><img src="../imagens/img2.jpg" alt="" width="215" height="145">Texto do primeiro slide</a></p>
                </div>

                <div class="slide">
                    <h2>Primeiro Slide</h2>
                    <p><a href="#"><img src="../imagens/img3.jpg" alt="" width="215" height="145">Texto do primeiro slide</a></p>
                </div>

            </div>

        </div>
    </div>

</div>

<script type="text/javascript">

$(document).ready(function(){
    var currentPosition = 0;
    var slideWidth = 560;
    var slides = $('.slide');
    var numberOfSlides = slides.length;

    slides
        .wrapAll('<div id="slideInner"></div>')
            .css({
            'float': 'left',
            'width': slideWidth
        });

    $('#slideInner').css('width', slideWidth * numberOfSlides);

    //Controler DOM
    $('#slideshow')
        .prepend('<span class="control" id="leftControl">Mover para a esquerda</span>')
        .append('<span class="control" id="rightControl">Mover para a direita</span>');

    // esconde linhas
    manageControls(currentPosition);

    $('.control')
        .bind('click', function(){
            currentPosition = ($(this).attr('id')=='rightControl') ? currentPosition + 1 : currentPosition -1;

            manageControls(currentPosition);

            $('#slideInner').animate({
                'marginLeft': slideWidth * (-currentPosition)
            });
        });

    function manageControls(position){
        if(position == 0){
            $('#leftControl').hide()
        } else{
            $('#leftControl').show()
        }

        if(position==numberOfSlides-1){
            $('#rightControl').hide()
        } else{
            $('#rightControl').show()
        }
    }
});


</script>

</body>
</html>
